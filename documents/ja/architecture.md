設計とベストプラクティス
===
[戻る](../../README.md)

目次
<!--ts-->
   * [設計とベストプラクティス](#設計とベストプラクティス)
      * [イントロダクション](#イントロダクション)
      * [プレゼンテーション層](#プレゼンテーション層)
         * [コントローラー](#コントローラー)
      * [アプリケーション層](#アプリケーション層)
         * [ユースケース](#ユースケース)
      * [ドメイン層](#ドメイン層)
         * [値オブジェクト](#値オブジェクト)
         * [エンティティ（集約）](#エンティティ集約)
      * [インフラ層](#インフラ層)
         * [リポジトリ](#リポジトリ)
         * [クエリサービス](#クエリサービス)

<!-- Added by: root, at: Fri Dec 31 11:51:44 UTC 2021 -->

<!--te-->

## イントロダクション
Basolatoフレームワークはドメイン駆動設計に基づいたアーキテクチャを採用しています。ドメイン駆動設計に基づいてアプリケーションを作ることで、変更容易性の高い、バグの起きにくいアプリケーションを高速で作ることが出来ます。

アプリケーションは4つの階層に責務を分割することができます。すなわち、プレゼンテーション層・アプリケーション層・ドメイン層・インフラ層です。  
Basolatoはこれをそれぞれコントローラー・ユースケース・モデル・データストアとしています。

## プレゼンテーション層
プレゼンテーション層とは、アプリケーションの中と外の入出力を定義するもので、ユーザーの操作や入力値を受け取るところです。  
アプリケーションはそれが実行される環境によって異なる入出力の規格を持ちます。例えばWebアプリケーションであればWeb固有のリクエストとレスポンスという規格に則りますし、CLIツールであればターミナルからの操作を受け付けます。
実行環境固有の入出力を受付け、アプリケーションを操作するのがプレゼンテーション層の役割です。

### コントローラー
Webアプリケーションでは入出力はリクエストとレスポンスという規格に乗っ取ります。リクエストパラメータから入力値を取り出し、アプリケーション層へ入力値を渡し、アプリケーション層からの返り値からレンスポンスを作ってユーザーへ返します。  
Web固有の責務を扱う場所であり、セッション、クッキーの操作やリクエストバリデーションもコントローラーで行います。

## アプリケーション層

### ユースケース
アプリケーションサービスとも言います。  
コントローラーからパラメータを受け取り、エンティティのインスタンス生成、エンティティの関数呼び出し、エンティティをリポジトリに渡して永続化などを行います。

## ドメイン層
### 値オブジェクト

### エンティティ（集約）

## インフラ層

### リポジトリ

### クエリサービス
